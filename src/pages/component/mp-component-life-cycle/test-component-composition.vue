<template>
  <view>
    <text class="uni-text-gray">Componentç”Ÿå‘½å‘¨æœŸï¼ˆä½¿ç”¨CompositionAPIï¼‰</text>
  </view>
  <view>
    <text v-for="(item, index) in componentLifeCycle" :key="index">\n{{ item }}</text>
  </view>
</template>

<script lang="ts">
import { defineComponent, ref } from 'vue'
import { onBeforeMount, onBeforeUpdate, onMounted, onBeforeUnmount, onUnmounted, onUpdated, } from 'vue';

export default defineComponent({
  name: 'test-component-composition',
  setup() {
    const componentLifeCycle = ref<string[]>([])

    onBeforeMount(() => {
      componentLifeCycle.value.push('onBeforeMount')
      console.log("%c Line:24 ðŸŽ‚ onBeforeMount test-component-composition===", "color:#ffdd4d");
    })

    onMounted(() => {
      componentLifeCycle.value.push('onMounted')
      console.log("%c Line:28 ðŸŽ‚ onMounted test-component-composition===", "color:#ffdd4d");
    })

    onBeforeUpdate(() => {
      console.log("%c Line:29 ðŸŽ‚ onBeforeUpdate test-component-composition===", "color:#ffdd4d");
    })

    onUpdated(() => {
      console.log("%c Line:34 ðŸŽ‚ onUpdated test-component-composition===", "color:#ffdd4d");
    })

    onBeforeUnmount(() => {
      console.log("%c Line:39 ðŸŽ‚ onBeforeUnmount test-component-composition===", "color:#ffdd4d");
    })

    onUnmounted(() => {
      console.log("%c Line:44 ðŸŽ‚ onUnmounted test-component-composition===", "color:#ffdd4d");
    })

    return {
      componentLifeCycle
    }
  },
})
</script>
